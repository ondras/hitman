<!doctype html>
<html>
	<head>
		<meta charset="utf-8" />
		<link rel="stylesheet" href="tm/tm.css" />
	</head>

	<body>
		<input type="range" min="0" max="5000" />

		<tm-scene skin="robot">
			<tm-rules states="4"></tm-rules>
			<tm-machine state="A" position="0"></tm-machine>
			<tm-tape></tm-tape>
		</tm-scene>

		<button>GO</button>

		<style>
			tm-scene {
				display: flex;
				flex-direction: column;
				align-items: center;
			}
		</style>


	<script type="module">
	import * as tm from "./tm/tm.js";
	import * as util from "./tm/util.js";

	const parent = document.querySelector("section");

	let rulesNode = document.querySelector("tm-rules").fillBusyBeaver();
	let machineNode = document.querySelector("tm-machine");
	let tapeNode = document.querySelector("tm-tape");

	document.querySelector("button").addEventListener("click", e => {
		tm.loop(machineNode, tapeNode, rulesNode);
	});

	util.bindInputAndProperty(
		document.querySelector("[type=range]"),
		machineNode,
		"--transition"
	);
	</script>
	</body>
</html>
